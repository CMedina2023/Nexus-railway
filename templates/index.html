<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <title>Nexus AI - Hub de Herramientas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
    <!-- Sidebar Navigation -->
    {% include 'partials/sidebar.html' %}

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        {% include 'partials/dashboard.html' %}

        <!-- Infografía Section -->
        {% include 'partials/infografia.html' %}

        <!-- Métricas Section -->
        {% include 'partials/metricas.html' %}

        <!-- Jira - Carga Masiva Section -->
        {% include 'partials/jira_carga_masiva.html' %}

        <!-- Jira - Reportes Section -->
        {% include 'partials/jira_reportes.html' %}

        <!-- Q-Academy Section -->
        {% if user_info and user_info.role in ['admin', 'analista_qa', 'Analista QA'] %}
        {% include 'partials/q_academy_dashboard.html' %}
        {% endif %}

        <!-- Admin Panel Section -->
        {% if user_info and user_info.role == 'admin' %}
        {% include 'partials/admin.html' %}
        {% endif %}

        <!-- Crear Historias Section -->
        {% include 'partials/crear_historias.html' %}

        <!-- Crear Casos de Prueba Section -->
        {% include 'partials/crear_casos_prueba.html' %}

        <!-- Feedback Section -->
        {% include 'partials/feedback.html' %}
    </main>

    <!-- App Modals -->
    {% include 'partials/app_modals.html' %}


    <!-- Main JavaScript -->
    <script>
        window.USER_ROLE = "{{ user_info.role if user_info else '' }}";
    </script>
    <script src="{{ url_for('static', filename='js/core/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/core/navigation.js') }}"></script>
    <script src="{{ url_for('static', filename='js/core/api-client.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/csv-parser.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/upload-state.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/upload-api.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/field-mapper.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/ui-project-selector.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/ui-step-navigator.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/mapping-manager.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/file-handler.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/bulk-upload/upload-wizard.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/dashboard/widgets.js') }}"></script>
    <!-- Jira Reports Modules -->
    <script src="{{ url_for('static', filename='js/modules/jira/reports/state.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/reports/charts.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/reports/tables.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/reports/data.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/reports/filters.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/reports/project-selector.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/reports/ui.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/reports.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/jira/reports-download.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/shared/generator-api.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/shared/generator-utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/shared/jira-project-cache.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/shared/jira-button-state.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/story/story-ui.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/story/story-generator.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/story/story-jira.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/test-case/test-case-ui.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/test-case/state-manager.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/test-case/validator.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/test-case/generator-api.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/test-case/ui-handlers.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/test-case/test-case-generator.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators/test-case/test-case-jira.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/generators.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/feedback/api.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/feedback/validator.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/feedback/ui.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/feedback.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/admin.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/infographic.js') }}"></script>
    <!-- Dashboard Modules -->
    <script src="{{ url_for('static', filename='js/modules/dashboard/templates.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/dashboard/data.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/dashboard/charts.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/dashboard/renderers.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/dashboard/ui-interactions.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/dashboard/data-loader.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/dashboard.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>

</html>